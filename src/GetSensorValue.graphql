query GetSensorValue(
  $currentTime: timestamptz!
) {
  light: SensorValue(
    limit: 1
    order_by: { timestamp: desc }
    where: {
      key: { _eq: "light" }
      timestamp: { _lte: $currentTime }
    }
  ) {
    value
    timestamp
  }

  temperature: SensorValue(
    limit: 1
    order_by: { timestamp: desc }
    where: {
      key: { _eq: "temperature" }
      timestamp: { _lte: $currentTime }
    }
  ) {
    value
  }

  humidity: SensorValue(
    limit: 1
    order_by: { timestamp: desc }
    where: {
      key: { _eq: "humidity" }
      timestamp: { _lte: $currentTime }
    }
  ) {
    value
  }

  mhz19Co2: SensorValue(
    limit: 1
    order_by: { timestamp: desc }
    where: {
      key: { _eq: "mhz19_co2" }
      timestamp: { _lte: $currentTime }
    }
  ) {
    value
  }
}
